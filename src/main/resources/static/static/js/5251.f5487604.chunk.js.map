{"version":3,"file":"static/js/5251.f5487604.chunk.js","mappings":"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","sources":["pages/visualization/multi-dimension-data-analysis/card-list.tsx","pages/visualization/multi-dimension-data-analysis/locale/index.ts","webpack://arco-design-pro/./src/pages/visualization/multi-dimension-data-analysis/style/card-block.module.less?4be6"],"sourcesContent":["import \"@arco-design/web-react/es/Card/style\";\nimport _Card from \"@arco-design/web-react/es/Card\";\nimport \"@arco-design/web-react/es/Spin/style\";\nimport _Spin from \"@arco-design/web-react/es/Spin\";\nimport \"@arco-design/web-react/es/Statistic/style\";\nimport _Statistic from \"@arco-design/web-react/es/Statistic\";\nimport _IconArrowFall from \"@arco-design/web-react/icon/react-icon/IconArrowFall\";\nimport _IconArrowRise from \"@arco-design/web-react/icon/react-icon/IconArrowRise\";\nimport \"@arco-design/web-react/es/Skeleton/style\";\nimport _Skeleton from \"@arco-design/web-react/es/Skeleton\";\nimport \"@arco-design/web-react/es/Typography/style\";\nimport _Typography from \"@arco-design/web-react/es/Typography\";\nimport \"@arco-design/web-react/es/Grid/style\";\nimport _Grid from \"@arco-design/web-react/es/Grid\";\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport React, { useEffect, useState, useMemo } from 'react';\nimport cs from 'classnames';\nimport { Chart, Line, Interval, Tooltip, Interaction } from 'bizcharts';\nimport axios from 'axios';\nimport useLocale from '@/utils/useLocale';\nimport locale from './locale';\nimport styles from './style/card-block.module.less';\nconst {\n  Row,\n  Col\n} = _Grid;\nconst {\n  Title,\n  Text\n} = _Typography;\nconst basicChartProps = {\n  pure: true,\n  autoFit: true,\n  height: 80,\n  padding: [0, 10, 0, 10]\n};\n\nfunction CustomTooltip(props) {\n  const {\n    items\n  } = props;\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.tooltip\n  }, items.map((item, index) => /*#__PURE__*/React.createElement(\"div\", {\n    key: index\n  }, /*#__PURE__*/React.createElement(Text, {\n    bold: true\n  }, Number(item.data.y).toLocaleString()))));\n}\n\nfunction SimpleLine(props) {\n  const {\n    chartData\n  } = props;\n  return /*#__PURE__*/React.createElement(Chart, _extends({\n    data: chartData\n  }, basicChartProps), /*#__PURE__*/React.createElement(Line, {\n    position: \"x*y\",\n    shape: ['name', ['smooth', 'dash']],\n    color: ['name', ['#165DFF', 'rgba(106,161,255,0.3)']]\n  }), /*#__PURE__*/React.createElement(Tooltip, {\n    shared: false,\n    showCrosshairs: true\n  }, (_, items) => /*#__PURE__*/React.createElement(CustomTooltip, {\n    items: items\n  })));\n}\n\nfunction SimpleInterval(props) {\n  const {\n    chartData\n  } = props;\n  return /*#__PURE__*/React.createElement(Chart, _extends({\n    data: chartData\n  }, basicChartProps), /*#__PURE__*/React.createElement(Interval, {\n    position: \"x*y\",\n    color: ['x', xVal => {\n      if (Number(xVal) % 2 === 0) {\n        return '#86DF6C';\n      }\n\n      return '#468DFF';\n    }]\n  }), /*#__PURE__*/React.createElement(Tooltip, {\n    shared: false\n  }, (_, items) => /*#__PURE__*/React.createElement(CustomTooltip, {\n    items: items\n  })), /*#__PURE__*/React.createElement(Interaction, {\n    type: \"active-region\"\n  }));\n}\n\nfunction CardBlock(props) {\n  const {\n    chartType,\n    title,\n    count,\n    increment,\n    diff,\n    chartData,\n    loading\n  } = props;\n  return /*#__PURE__*/React.createElement(_Card, {\n    className: styles.card\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.statistic\n  }, /*#__PURE__*/React.createElement(_Statistic, {\n    title: /*#__PURE__*/React.createElement(Title, {\n      heading: 6,\n      className: styles.title\n    }, title),\n    loading: loading,\n    value: count,\n    extra: /*#__PURE__*/React.createElement(\"div\", {\n      className: styles['compare-yesterday']\n    }, loading ? /*#__PURE__*/React.createElement(_Skeleton, {\n      text: {\n        rows: 1\n      },\n      style: {\n        width: '100px'\n      },\n      animation: true\n    }) : /*#__PURE__*/React.createElement(\"span\", {\n      className: cs(styles['diff'], {\n        [styles['diff-increment']]: increment\n      })\n    }, diff, increment ? /*#__PURE__*/React.createElement(_IconArrowRise, null) : /*#__PURE__*/React.createElement(_IconArrowFall, null))),\n    groupSeparator: true\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.chart\n  }, /*#__PURE__*/React.createElement(_Spin, {\n    style: {\n      width: '100%'\n    },\n    loading: loading\n  }, chartType === 'interval' && /*#__PURE__*/React.createElement(SimpleInterval, {\n    chartData: chartData\n  }), chartType === 'line' && /*#__PURE__*/React.createElement(SimpleLine, {\n    chartData: chartData\n  }))));\n}\n\nconst cardInfo = [{\n  key: 'userRetentionTrend',\n  type: 'line'\n}, {\n  key: 'userRetention',\n  type: 'interval'\n}, {\n  key: 'contentConsumptionTrend',\n  type: 'line'\n}, {\n  key: 'contentConsumption',\n  type: 'interval'\n}];\n\nfunction CardList() {\n  const t = useLocale(locale);\n  const [loading, setLoading] = useState(false);\n  const [data, setData] = useState(cardInfo.map(item => ({ ...item,\n    chartType: item.type\n  })));\n\n  const getData = async () => {\n    const requestList = cardInfo.map(async info => {\n      const {\n        data\n      } = await axios.get(`/api/multi-dimension/card?type=${info.type}`).catch(() => ({\n        data: {}\n      }));\n      return { ...data,\n        key: info.key,\n        chartType: info.type\n      };\n    });\n    setLoading(true);\n    const result = await Promise.all(requestList).finally(() => setLoading(false));\n    setData(result);\n  };\n\n  useEffect(() => {\n    getData();\n  }, []);\n  const formatData = useMemo(() => {\n    return data.map(item => ({ ...item,\n      title: t[`multiDAnalysis.cardList.${item.key}`]\n    }));\n  }, [t, data]);\n  return /*#__PURE__*/React.createElement(Row, {\n    gutter: 16\n  }, formatData.map((item, index) => /*#__PURE__*/React.createElement(Col, {\n    span: 6,\n    key: index\n  }, /*#__PURE__*/React.createElement(CardBlock, _extends({}, item, {\n    loading: loading\n  })))));\n}\n\nexport default CardList;","const i18n = {\n  'en-US': {\n    'menu.visualization': 'Data Visualization',\n    'menu.visualization.multiDimensionDataAnalysis': 'Multi-D Analysis',\n    'multiDAnalysis.card.title.activeContributors': 'Active Contributors',\n    'multiDAnalysis.unit': 'times',\n    'multiDAnalysis.card.title.officeVisitors': 'Office Visitors',\n    'multiDAnalysis.card.title.downloads': 'Downloads',\n    'multiDAnalysis.card.title.dataOverview': 'Overview',\n    'multiDAnalysis.card.title.todayActivity': 'Today\\'s Likes and Comments Statistics',\n    'multiDAnalysis.card.title.contentTheme': 'Content theme distribution',\n    'multiDAnalysis.card.title.contentSource': 'Content publishing source',\n    'multiDAnalysis.dataOverview.contentProduction': 'Content production',\n    'multiDAnalysis.dataOverview.contentClicks': 'Content clicks',\n    'multiDAnalysis.dataOverview.contextExposure': 'Content exposure',\n    'multiDAnalysis.dataOverview.activeUsers': 'Active users',\n    'multiDAnalysis.cardList.userRetentionTrend': 'User retention trends',\n    'multiDAnalysis.cardList.userRetention': 'User retention',\n    'multiDAnalysis.cardList.contentConsumptionTrend': 'Content consumption trends',\n    'multiDAnalysis.cardList.contentConsumption': 'Content consumption'\n  },\n  'zh-CN': {\n    'menu.visualization': '数据可视化',\n    'menu.visualization.multiDimensionDataAnalysis': '多维数据分析',\n    'multiDAnalysis.card.title.officeVisitors': '官网访问量',\n    'multiDAnalysis.card.title.downloads': '下载量',\n    'multiDAnalysis.card.title.dataOverview': '数据总览',\n    'multiDAnalysis.card.title.todayActivity': '今日转赞评统计',\n    'multiDAnalysis.card.title.contentTheme': '内容题材分布',\n    'multiDAnalysis.card.title.contentSource': '内容发布来源',\n    'multiDAnalysis.dataOverview.contentProduction': '内容生产量',\n    'multiDAnalysis.dataOverview.contentClicks': '内容点击量',\n    'multiDAnalysis.dataOverview.contextExposure': '内容曝光量',\n    'multiDAnalysis.dataOverview.activeUsers': '活跃用户数',\n    'multiDAnalysis.cardList.userRetentionTrend': '用户留存趋势',\n    'multiDAnalysis.cardList.userRetention': '用户留存量',\n    'multiDAnalysis.cardList.contentConsumptionTrend': '内容消费趋势',\n    'multiDAnalysis.cardList.contentConsumption': '内容消费量'\n  }\n};\nexport default i18n;","// extracted by mini-css-extract-plugin\nexport default {\"card\":\"card--kxEzE\",\"statistic\":\"statistic--KhOjX\",\"title\":\"title--Es_ba\",\"diff\":\"diff--FF7rJ\",\"diff-increment\":\"diff-increment--ThGMW\",\"tooltip\":\"tooltip--Yag2m\"};"],"names":["_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","this","Row","_Grid","Col","Title","_Typography","Text","basicChartProps","pure","autoFit","height","padding","CustomTooltip","props","items","React","className","styles","map","item","index","bold","Number","data","y","toLocaleString","SimpleLine","chartData","Chart","Line","position","shape","color","Tooltip","shared","showCrosshairs","_","SimpleInterval","Interval","xVal","Interaction","type","CardBlock","chartType","title","count","increment","diff","loading","_Card","_Statistic","heading","value","extra","_Skeleton","text","rows","style","width","animation","cs","_IconArrowRise","_IconArrowFall","groupSeparator","_Spin","cardInfo","t","useLocale","locale","useState","setLoading","setData","getData","requestList","info","axios","catch","Promise","all","finally","result","useEffect","formatData","useMemo","gutter","span"],"sourceRoot":""}